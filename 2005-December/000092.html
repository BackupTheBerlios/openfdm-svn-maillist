<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [OpenFDM-svn] r108 - in trunk/OpenFDM/src: JSBSim OpenFDM OpenFDM/XML builder
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openfdm-svn/2005-December/index.html" >
   <LINK REL="made" HREF="mailto:openfdm-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenFDM-svn%5D%20r108%20-%20in%20trunk/OpenFDM/src%3A%20JSBSim%20OpenFDM%20OpenFDM/XML%20builder&In-Reply-To=%3C200512230848.jBN8mh2N024295%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000091.html">
   <LINK REL="Next"  HREF="000093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[OpenFDM-svn] r108 - in trunk/OpenFDM/src: JSBSim OpenFDM OpenFDM/XML builder</H1>
    <B>frohlich at berlios.de</B> 
    <A HREF="mailto:openfdm-svn%40lists.berlios.de?Subject=Re%3A%20%5BOpenFDM-svn%5D%20r108%20-%20in%20trunk/OpenFDM/src%3A%20JSBSim%20OpenFDM%20OpenFDM/XML%20builder&In-Reply-To=%3C200512230848.jBN8mh2N024295%40sheep.berlios.de%3E"
       TITLE="[OpenFDM-svn] r108 - in trunk/OpenFDM/src: JSBSim OpenFDM OpenFDM/XML builder">frohlich at berlios.de
       </A><BR>
    <I>Fri Dec 23 09:48:43 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000091.html">[OpenFDM-svn] r107 - in trunk/OpenFDM/src: JSBSim OpenFDM
</A></li>
        <LI>Next message: <A HREF="000093.html">[OpenFDM-svn] r109 - trunk/flightgear
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#92">[ date ]</a>
              <a href="thread.html#92">[ thread ]</a>
              <a href="subject.html#92">[ subject ]</a>
              <a href="author.html#92">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: frohlich
Date: 2005-12-23 09:47:44 +0100 (Fri, 23 Dec 2005)
New Revision: 108

Modified:
   trunk/OpenFDM/src/JSBSim/JSBSimAerosurfaceScale.h
   trunk/OpenFDM/src/JSBSim/JSBSimFCSComponent.h
   trunk/OpenFDM/src/JSBSim/JSBSimKinemat.h
   trunk/OpenFDM/src/JSBSim/JSBSimScheduledGain.h
   trunk/OpenFDM/src/JSBSim/LegacyJSBSimReader.cpp
   trunk/OpenFDM/src/JSBSim/LegacyJSBSimReader.h
   trunk/OpenFDM/src/OpenFDM/AeroForce.h
   trunk/OpenFDM/src/OpenFDM/BinaryFunctionModel.h
   trunk/OpenFDM/src/OpenFDM/Contact.h
   trunk/OpenFDM/src/OpenFDM/CowPtr.h
   trunk/OpenFDM/src/OpenFDM/Environment.h
   trunk/OpenFDM/src/OpenFDM/EnvironmentObject.h
   trunk/OpenFDM/src/OpenFDM/Frame.h
   trunk/OpenFDM/src/OpenFDM/FreeJoint.h
   trunk/OpenFDM/src/OpenFDM/Model.cpp
   trunk/OpenFDM/src/OpenFDM/Model.h
   trunk/OpenFDM/src/OpenFDM/ModelGroup.cpp
   trunk/OpenFDM/src/OpenFDM/ModelGroup.h
   trunk/OpenFDM/src/OpenFDM/MultiBodyModel.h
   trunk/OpenFDM/src/OpenFDM/ODESolver.h
   trunk/OpenFDM/src/OpenFDM/Object.h
   trunk/OpenFDM/src/OpenFDM/Port.cpp
   trunk/OpenFDM/src/OpenFDM/Port.h
   trunk/OpenFDM/src/OpenFDM/PrismaticJoint.h
   trunk/OpenFDM/src/OpenFDM/Property.h
   trunk/OpenFDM/src/OpenFDM/ReaderWriter.h
   trunk/OpenFDM/src/OpenFDM/RevoluteJoint.h
   trunk/OpenFDM/src/OpenFDM/RootFrame.h
   trunk/OpenFDM/src/OpenFDM/SharedPtr.h
   trunk/OpenFDM/src/OpenFDM/System.h
   trunk/OpenFDM/src/OpenFDM/UnaryFunctionModel.h
   trunk/OpenFDM/src/OpenFDM/Variant.h
   trunk/OpenFDM/src/OpenFDM/Vehicle.h
   trunk/OpenFDM/src/OpenFDM/WheelContact.h
   trunk/OpenFDM/src/OpenFDM/XML/XMLReader.h
   trunk/OpenFDM/src/OpenFDM/main.cpp
   trunk/OpenFDM/src/builder/Configuration.cpp
   trunk/OpenFDM/src/builder/Configuration.h
Log:
Rename shared_ptr-&gt;SharedPtr and managed_ptr-&gt;WeakPtr


Modified: trunk/OpenFDM/src/JSBSim/JSBSimAerosurfaceScale.h
===================================================================
--- trunk/OpenFDM/src/JSBSim/JSBSimAerosurfaceScale.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/JSBSim/JSBSimAerosurfaceScale.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -23,7 +23,7 @@
   void setMaxValue(real_type maxValue);
 
 private:
-  shared_ptr&lt;Table1D&gt; mTable;
+  SharedPtr&lt;Table1D&gt; mTable;
 };
 
 } //namespace OpenFDM

Modified: trunk/OpenFDM/src/JSBSim/JSBSimFCSComponent.h
===================================================================
--- trunk/OpenFDM/src/JSBSim/JSBSimFCSComponent.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/JSBSim/JSBSimFCSComponent.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -38,7 +38,7 @@
   ModelGroup* getModelGroup(void)
   { return mModelGroup; }
 private:
-  shared_ptr&lt;ModelGroup&gt; mModelGroup;
+  SharedPtr&lt;ModelGroup&gt; mModelGroup;
 };
 
 } //namespace OpenFDM

Modified: trunk/OpenFDM/src/JSBSim/JSBSimKinemat.h
===================================================================
--- trunk/OpenFDM/src/JSBSim/JSBSimKinemat.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/JSBSim/JSBSimKinemat.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -24,10 +24,10 @@
 
 private:
   bool mNoScale;
-  shared_ptr&lt;Gain&gt; mInputGain;
-  shared_ptr&lt;Saturation&gt; mInputSaturation;
-  shared_ptr&lt;Saturation&gt; mKinematRateLimit;
-  shared_ptr&lt;Gain&gt; mOutputNormGain;
+  SharedPtr&lt;Gain&gt; mInputGain;
+  SharedPtr&lt;Saturation&gt; mInputSaturation;
+  SharedPtr&lt;Saturation&gt; mKinematRateLimit;
+  SharedPtr&lt;Gain&gt; mOutputNormGain;
 };
 
 } //namespace OpenFDM

Modified: trunk/OpenFDM/src/JSBSim/JSBSimScheduledGain.h
===================================================================
--- trunk/OpenFDM/src/JSBSim/JSBSimScheduledGain.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/JSBSim/JSBSimScheduledGain.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -25,7 +25,7 @@
   void setTableData(const TableData&lt;1&gt;&amp; tableData, const TableLookup&amp; lookup);
 
 private:
-  shared_ptr&lt;Table1D&gt; mTable;
+  SharedPtr&lt;Table1D&gt; mTable;
 };
 
 } //namespace OpenFDM

Modified: trunk/OpenFDM/src/JSBSim/LegacyJSBSimReader.cpp
===================================================================
--- trunk/OpenFDM/src/JSBSim/LegacyJSBSimReader.cpp	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/JSBSim/LegacyJSBSimReader.cpp	2005-12-23 08:47:44 UTC (rev 108)
@@ -1112,9 +1112,9 @@
   // value. This one is stored here.
   mPrevousFCSOutput = 0;
   
-  std::list&lt;shared_ptr&lt;const XMLElement&gt; &gt; comps
+  std::list&lt;SharedPtr&lt;const XMLElement&gt; &gt; comps
     = fcsElem-&gt;getElements(&quot;COMPONENT&quot;);
-  std::list&lt;shared_ptr&lt;const XMLElement&gt; &gt;::const_iterator it;
+  std::list&lt;SharedPtr&lt;const XMLElement&gt; &gt;::const_iterator it;
   for (it = comps.begin(); it != comps.end(); ++it) {
     if (!convertFCSComponent((*it)-&gt;getAttribute(&quot;TYPE&quot;),
                              (*it)-&gt;getAttribute(&quot;NAME&quot;),
@@ -1137,18 +1137,18 @@
   std::stringstream datastr(data);
 
   // The model we put into the fcs group in the end ...
-  shared_ptr&lt;Model&gt; model;
-  shared_ptr&lt;DeadBand&gt; deadband;
-  shared_ptr&lt;Summer&gt; summer;
-  shared_ptr&lt;Gain&gt; gain;
-  shared_ptr&lt;DiscreteTransferFunction&gt; discreteTransfFunc;
-  shared_ptr&lt;JSBSimAerosurfaceScale&gt; asScale;
-  shared_ptr&lt;JSBSimKinemat&gt; kinemat;
-  shared_ptr&lt;JSBSimScheduledGain&gt; sGain;
+  SharedPtr&lt;Model&gt; model;
+  SharedPtr&lt;DeadBand&gt; deadband;
+  SharedPtr&lt;Summer&gt; summer;
+  SharedPtr&lt;Gain&gt; gain;
+  SharedPtr&lt;DiscreteTransferFunction&gt; discreteTransfFunc;
+  SharedPtr&lt;JSBSimAerosurfaceScale&gt; asScale;
+  SharedPtr&lt;JSBSimKinemat&gt; kinemat;
+  SharedPtr&lt;JSBSimScheduledGain&gt; sGain;
 
   // The final output property.
-  shared_ptr&lt;Port&gt; out;
-  shared_ptr&lt;Port&gt; normOut;
+  SharedPtr&lt;Port&gt; out;
+  SharedPtr&lt;Port&gt; normOut;
 
   // JSBSim FCS output values contain some implicit rules.
   // From the component name a default output property is formed.
@@ -1275,12 +1275,12 @@
 
   // The output expression from the prevous FCS block.
   // This is the default input value for this FCS block.
-  std::list&lt;shared_ptr&lt;Port&gt; &gt; inputs;
+  std::list&lt;SharedPtr&lt;Port&gt; &gt; inputs;
 
   // Collect any expressions for the output chain here.
-  shared_ptr&lt;Saturation&gt; saturation;
-  shared_ptr&lt;Bias&gt; outbias;
-  shared_ptr&lt;Gain&gt; outgain;
+  SharedPtr&lt;Saturation&gt; saturation;
+  SharedPtr&lt;Bias&gt; outbias;
+  SharedPtr&lt;Gain&gt; outgain;
   bool outInvert = false;
 
   for (;;) {
@@ -1604,7 +1604,7 @@
     inputs.push_back(mPrevousFCSOutput);
 
   unsigned idx = 0;
-  for (std::list&lt;shared_ptr&lt;Port&gt; &gt;::iterator it = inputs.begin();
+  for (std::list&lt;SharedPtr&lt;Port&gt; &gt;::iterator it = inputs.begin();
        it != inputs.end(); ++it) {
     // FIXME!!!!!!
     if (summer &amp;&amp; summer-&gt;getNumInputPorts() &lt;= idx)
@@ -1679,8 +1679,8 @@
   unsigned engineNumber = 0;
   unsigned tankNumber = 0;
 
-  std::list&lt;shared_ptr&lt;XMLElement&gt; &gt; elems = pElem-&gt;getElements();
-  std::list&lt;shared_ptr&lt;XMLElement&gt; &gt;::const_iterator it;
+  std::list&lt;SharedPtr&lt;XMLElement&gt; &gt; elems = pElem-&gt;getElements();
+  std::list&lt;SharedPtr&lt;XMLElement&gt; &gt;::const_iterator it;
   for (it = elems.begin(); it != elems.end(); ++it) {
     if ((*it)-&gt;getName() == &quot;AC_ENGINE&quot;) {
 //       std::string engineFile = mEnginePath+(*it)-&gt;getAttribute(&quot;FILE&quot;)+&quot;.xml&quot;;
@@ -1859,26 +1859,26 @@
 bool
 LegacyJSBSimReader::convertAerodynamics(const XMLElement* aerodynamics)
 {
-  std::list&lt;shared_ptr&lt;XMLElement&gt; &gt; elems = aerodynamics-&gt;getElements();
-  std::list&lt;shared_ptr&lt;XMLElement&gt; &gt;::const_iterator it;
+  std::list&lt;SharedPtr&lt;XMLElement&gt; &gt; elems = aerodynamics-&gt;getElements();
+  std::list&lt;SharedPtr&lt;XMLElement&gt; &gt;::const_iterator it;
   for (it = elems.begin(); it != elems.end(); ++it) {
     std::string axisname = (*it)-&gt;getAttribute(&quot;NAME&quot;);
 
-    shared_ptr&lt;UnitToSiExpressionImpl&gt; toNewton
+    SharedPtr&lt;UnitToSiExpressionImpl&gt; toNewton
       = new UnitToSiExpressionImpl(uPoundForce);
-    shared_ptr&lt;UnitToSiExpressionImpl&gt; toNewtonMeter
+    SharedPtr&lt;UnitToSiExpressionImpl&gt; toNewtonMeter
       = new UnitToSiExpressionImpl(uPoundForceFt);
-    shared_ptr&lt;SumExpressionImpl&gt; sum = new SumExpressionImpl;
+    SharedPtr&lt;SumExpressionImpl&gt; sum = new SumExpressionImpl;
     toNewtonMeter-&gt;setInputProperty(TypedProperty&lt;real_type&gt;(sum));
     toNewton-&gt;setInputProperty(TypedProperty&lt;real_type&gt;(sum));
     if (axisname == &quot;LIFT&quot;) {
-      shared_ptr&lt;MinusExpressionImpl&gt; minus = new MinusExpressionImpl;
+      SharedPtr&lt;MinusExpressionImpl&gt; minus = new MinusExpressionImpl;
       minus-&gt;setInputProperty(TypedProperty&lt;real_type&gt;(toNewton));
       mAeroForce-&gt;addStabilityAxisSummand(AeroForce::LiftAxis,
                                           TypedProperty&lt;real_type&gt;(minus));
     }
     else if (axisname == &quot;DRAG&quot;) {
-      shared_ptr&lt;MinusExpressionImpl&gt; minus = new MinusExpressionImpl;
+      SharedPtr&lt;MinusExpressionImpl&gt; minus = new MinusExpressionImpl;
       minus-&gt;setInputProperty(TypedProperty&lt;real_type&gt;(toNewton));
       mAeroForce-&gt;addStabilityAxisSummand(AeroForce::DragAxis,
                                           TypedProperty&lt;real_type&gt;(minus));
@@ -1912,14 +1912,14 @@
                                         SumExpressionImpl* sum,
                                         ProductExpressionImpl* prod)
 {
-  std::list&lt;shared_ptr&lt;XMLElement&gt; &gt; elems = aeroSummands-&gt;getElements();
-  std::list&lt;shared_ptr&lt;XMLElement&gt; &gt;::const_iterator it;
+  std::list&lt;SharedPtr&lt;XMLElement&gt; &gt; elems = aeroSummands-&gt;getElements();
+  std::list&lt;SharedPtr&lt;XMLElement&gt; &gt;::const_iterator it;
   for (it = elems.begin(); it != elems.end(); ++it) {
     if ((*it)-&gt;getName() == &quot;GROUP&quot;) {
      
-      shared_ptr&lt;ProductExpressionImpl&gt; newProd = new ProductExpressionImpl;
+      SharedPtr&lt;ProductExpressionImpl&gt; newProd = new ProductExpressionImpl;
       sum-&gt;addInputProperty(TypedProperty&lt;real_type&gt;(newProd));
-      shared_ptr&lt;SumExpressionImpl&gt; newSum = new SumExpressionImpl;
+      SharedPtr&lt;SumExpressionImpl&gt; newSum = new SumExpressionImpl;
       newProd-&gt;addInputProperty(TypedProperty&lt;real_type&gt;(newSum));
 
       if (!convertAEROSummands(*it, newSum, newProd))

Modified: trunk/OpenFDM/src/JSBSim/LegacyJSBSimReader.h
===================================================================
--- trunk/OpenFDM/src/JSBSim/LegacyJSBSimReader.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/JSBSim/LegacyJSBSimReader.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -30,7 +30,7 @@
 // 
 /// FIXME!!!!!!!!
 class PropertyMap
-  : public std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt; {
+  : public std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt; {
 public:
   static std::string simplyfy(std::string path)
   {
@@ -43,61 +43,61 @@
 
   mapped_type&amp;
   operator[](const key_type&amp; key)
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::operator[](simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::operator[](simplyfy(key)); }
 
   size_type
   erase(const key_type&amp; key)
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::erase(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::erase(simplyfy(key)); }
 
   iterator
   find(const key_type&amp; key)
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::find(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::find(simplyfy(key)); }
 
   const_iterator
   find(const key_type&amp; key) const
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::find(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::find(simplyfy(key)); }
 
   size_type
   count(const key_type&amp; key) const
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::count(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::count(simplyfy(key)); }
 
   iterator
   lower_bound(const key_type&amp; key)
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::lower_bound(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::lower_bound(simplyfy(key)); }
 
   const_iterator
   lower_bound(const key_type&amp; key) const
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::lower_bound(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::lower_bound(simplyfy(key)); }
 
   iterator
   upper_bound(const key_type&amp; key)
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::upper_bound(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::upper_bound(simplyfy(key)); }
 
   const_iterator
   upper_bound(const key_type&amp; key) const
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::upper_bound(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::upper_bound(simplyfy(key)); }
 
   std::pair&lt;iterator,iterator&gt;
   equal_range(const key_type&amp; key)
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::equal_range(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::equal_range(simplyfy(key)); }
 
   std::pair&lt;const_iterator,const_iterator&gt;
   equal_range(const key_type&amp; key) const
-  { return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::equal_range(simplyfy(key)); }
+  { return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::equal_range(simplyfy(key)); }
 
 
   std::pair&lt;iterator,bool&gt;
   insert(const value_type&amp; val)
   {
     value_type sval(simplyfy(val.first), val.second);
-    return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::insert(sval);
+    return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::insert(sval);
   }
 
   iterator
   insert(iterator position, const value_type&amp; val)
   {
     value_type sval(simplyfy(val.first), val.second);
-    return std::map&lt;std::string,shared_ptr&lt;Port&gt; &gt;::insert(position, sval);
+    return std::map&lt;std::string,SharedPtr&lt;Port&gt; &gt;::insert(position, sval);
   }
 };
 
@@ -216,9 +216,9 @@
     Vector3 cgoff = v - mBodyReference;
     return convertFrom(uInch, Vector3(-cgoff(1), cgoff(2), -cgoff(3)));
   }
-  shared_ptr&lt;Port&gt; mPrevousFCSOutput;
+  SharedPtr&lt;Port&gt; mPrevousFCSOutput;
   PropertyMap mExpressionTable;
-  shared_ptr&lt;AeroForce&gt; mAeroForce;
+  SharedPtr&lt;AeroForce&gt; mAeroForce;
   Vector3 mBodyReference;
 };
 

Modified: trunk/OpenFDM/src/OpenFDM/AeroForce.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/AeroForce.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/AeroForce.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -125,15 +125,15 @@
   void computeSLAtmosphere(void) const;
   void computeCalEquAirspeed(void) const;
 
-  shared_ptr&lt;SumExpressionImpl&gt; mStabilityAxisSummers[6];
-  shared_ptr&lt;SumExpressionImpl&gt; mBodyAxisSummers[6];
+  SharedPtr&lt;SumExpressionImpl&gt; mStabilityAxisSummers[6];
+  SharedPtr&lt;SumExpressionImpl&gt; mBodyAxisSummers[6];
 
   const Atmosphere* getAtmosphere(void) const
   { return mEnvironment-&gt;getAtmosphere(); }
   const Planet* getPlanet(void) const
   { return mEnvironment-&gt;getPlanet(); }
 
-  shared_ptr&lt;Environment&gt; mEnvironment;
+  SharedPtr&lt;Environment&gt; mEnvironment;
 
   Vector3 mPosition;
   Rotation mOrientation;

Modified: trunk/OpenFDM/src/OpenFDM/BinaryFunctionModel.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/BinaryFunctionModel.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/BinaryFunctionModel.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -37,7 +37,7 @@
   Type getType(void) const;
 
 private:
-  shared_ptr&lt;BinaryFunctionModelImpl&gt; mImpl;
+  SharedPtr&lt;BinaryFunctionModelImpl&gt; mImpl;
   Type mType;
   real_type mFunctionValue;
 };

Modified: trunk/OpenFDM/src/OpenFDM/Contact.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Contact.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Contact.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -45,7 +45,7 @@
 
   bool mEnabled;
   GroundValues mGroundVal;
-  shared_ptr&lt;Environment&gt; mEnvironment;
+  SharedPtr&lt;Environment&gt; mEnvironment;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/CowPtr.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/CowPtr.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/CowPtr.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -36,7 +36,7 @@
   { return mPtr; }
 
 private:
-  shared_ptr&lt;T&gt; mPtr;
+  SharedPtr&lt;T&gt; mPtr;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/Environment.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Environment.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Environment.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -82,12 +82,12 @@
   void attachEnvironmentObject(EnvironmentObject* environmentObject);
   void detachEnvironmentObject(EnvironmentObject* environmentObject);
 
-  shared_ptr&lt;Atmosphere&gt; mAtmosphere;
-  shared_ptr&lt;Gravity&gt; mGravity;
-  shared_ptr&lt;Ground&gt; mGround;
-  shared_ptr&lt;Planet&gt; mPlanet;
-  shared_ptr&lt;Turbulence&gt; mTurbulence;
-  shared_ptr&lt;Wind&gt; mWind;
+  SharedPtr&lt;Atmosphere&gt; mAtmosphere;
+  SharedPtr&lt;Gravity&gt; mGravity;
+  SharedPtr&lt;Ground&gt; mGround;
+  SharedPtr&lt;Planet&gt; mPlanet;
+  SharedPtr&lt;Turbulence&gt; mTurbulence;
+  SharedPtr&lt;Wind&gt; mWind;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/EnvironmentObject.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/EnvironmentObject.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/EnvironmentObject.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -25,7 +25,7 @@
 private:
   void attachToEnvironment(Environment* environment);
 
-  managed_ptr&lt;Environment&gt; mEnvironment;
+  WeakPtr&lt;Environment&gt; mEnvironment;
 
   friend class Environment;
 };

Modified: trunk/OpenFDM/src/OpenFDM/Frame.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Frame.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Frame.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -46,7 +46,7 @@
   typedef const void* frameid_type;
 
   /// Container for the child frames.
-  typedef std::vector&lt;shared_ptr&lt;Frame&gt; &gt; ChildFrameList;
+  typedef std::vector&lt;SharedPtr&lt;Frame&gt; &gt; ChildFrameList;
 
   Frame(const std::string&amp; name);
   virtual ~Frame(void);
@@ -98,7 +98,7 @@
 
 
   /////////////////////////////////////////
-  typedef std::vector&lt;shared_ptr&lt;MultiBodyModel&gt; &gt; abchild_list;
+  typedef std::vector&lt;SharedPtr&lt;MultiBodyModel&gt; &gt; abchild_list;
   typedef abchild_list::iterator           abchild_iterator;
   typedef abchild_list::const_iterator     const_abchild_iterator;
   abchild_list _children;
@@ -629,7 +629,7 @@
 
   // The parent frame.
   // FIXME: May be we should store a list of all parents ???
-  managed_ptr&lt;Frame&gt; mParentFrame;
+  WeakPtr&lt;Frame&gt; mParentFrame;
   // The list of child frames.
   ChildFrameList mChildFrames;
 };

Modified: trunk/OpenFDM/src/OpenFDM/FreeJoint.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/FreeJoint.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/FreeJoint.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -93,7 +93,7 @@
 
   /** Reference to the vehicles environment.
    */
-  shared_ptr&lt;Environment&gt; mEnvironment;
+  SharedPtr&lt;Environment&gt; mEnvironment;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/Model.cpp
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Model.cpp	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Model.cpp	2005-12-23 08:47:44 UTC (rev 108)
@@ -168,7 +168,7 @@
 Model::getInputPort(const std::string&amp; name)
 {
   // Check if this one exists and return its value.
-  std::vector&lt;shared_ptr&lt;Port&gt; &gt;::iterator it = mInputPorts.begin();
+  std::vector&lt;SharedPtr&lt;Port&gt; &gt;::iterator it = mInputPorts.begin();
   while (it != mInputPorts.end()) {
     if ((*it)-&gt;getName() == name)
       return *it;
@@ -193,7 +193,7 @@
 Model::getOutputPort(const std::string&amp; name)
 {
   // Check if this one exists and return its value.
-  std::vector&lt;shared_ptr&lt;Port&gt; &gt;::iterator it = mOutputPorts.begin();
+  std::vector&lt;SharedPtr&lt;Port&gt; &gt;::iterator it = mOutputPorts.begin();
   while (it != mOutputPorts.end()) {
     if ((*it)-&gt;getName() == name)
       return *it;
@@ -220,7 +220,7 @@
   if (!getDirectFeedThrough())
     return false;
   // Check if the given model is the source of any input property.
-  std::vector&lt;shared_ptr&lt;Port&gt; &gt;::const_iterator it = mInputPorts.begin();
+  std::vector&lt;SharedPtr&lt;Port&gt; &gt;::const_iterator it = mInputPorts.begin();
   while (it != mInputPorts.end()) {
     if (model == (*it)-&gt;getProperty().getObject())
       return true;

Modified: trunk/OpenFDM/src/OpenFDM/Model.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Model.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Model.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -153,13 +153,13 @@
   void adjustNumContinousStates(unsigned newCount, unsigned oldCount);
   void adjustNumDiscreteStates(unsigned newCount, unsigned oldCount);
 
-  managed_ptr&lt;Model&gt; mParentModel;
+  WeakPtr&lt;Model&gt; mParentModel;
   unsigned mNumContinousStates;
   unsigned mNumDiscreteStates;
   bool mDirectFeedThrough;
   SampleTimeSet mSampleTimeSet;
-  std::vector&lt;shared_ptr&lt;Port&gt; &gt; mInputPorts;
-  std::vector&lt;shared_ptr&lt;Port&gt; &gt; mOutputPorts;
+  std::vector&lt;SharedPtr&lt;Port&gt; &gt; mInputPorts;
+  std::vector&lt;SharedPtr&lt;Port&gt; &gt; mOutputPorts;
 
   // FIXME
   friend class ModelGroup;

Modified: trunk/OpenFDM/src/OpenFDM/ModelGroup.cpp
===================================================================
--- trunk/OpenFDM/src/OpenFDM/ModelGroup.cpp	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/ModelGroup.cpp	2005-12-23 08:47:44 UTC (rev 108)
@@ -358,7 +358,7 @@
 
     // We need to store that one here since the iterator possibly invalidates
     // during the next append dependency call
-    shared_ptr&lt;Model&gt; tmpModel = *it;
+    SharedPtr&lt;Model&gt; tmpModel = *it;
     mModels.erase(it);
 
     // Now recurse into that model.

Modified: trunk/OpenFDM/src/OpenFDM/ModelGroup.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/ModelGroup.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/ModelGroup.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -66,7 +66,7 @@
   using Model::setNumOutputPorts;
 
 private:
-  typedef std::vector&lt;shared_ptr&lt;Model&gt; &gt; ModelList;
+  typedef std::vector&lt;SharedPtr&lt;Model&gt; &gt; ModelList;
 
   /// Helper functions to sort the models according their dependencies
   static bool dependsOn(Port* inputPort, Model* model);

Modified: trunk/OpenFDM/src/OpenFDM/MultiBodyModel.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/MultiBodyModel.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/MultiBodyModel.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -92,7 +92,7 @@
   private:
     // The parent node.
     // FIXME: May be we should store a list of all parents ???
-    managed_ptr&lt;Frame&gt; _parent[numParents];
+    WeakPtr&lt;Frame&gt; _parent[numParents];
   };
 
 #define OpenFDM_NodeImplementation(nParents)            \

Modified: trunk/OpenFDM/src/OpenFDM/ODESolver.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/ODESolver.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/ODESolver.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -65,8 +65,8 @@
   real_type mTime;
   Vector mState;
 
-  /// managed_ptr ???
-  managed_ptr&lt;Model&gt; mModel;
+  /// WeakPtr ???
+  WeakPtr&lt;Model&gt; mModel;
 
   Stats mStats;
 };

Modified: trunk/OpenFDM/src/OpenFDM/Object.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Object.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Object.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -14,9 +14,9 @@
 namespace OpenFDM {
 
 template&lt;typename T&gt;
-class shared_ptr;
+class SharedPtr;
 template&lt;typename T&gt;
-class managed_ptr;
+class WeakPtr;
 
 class TypeInfo;
 
@@ -77,47 +77,46 @@
   /// The map of all properties of this object.
   PropertyMap mProperties;
 
-  shared_ptr&lt;Object&gt; mUserData;
+  SharedPtr&lt;Object&gt; mUserData;
 
   mutable std::list&lt;Object**&gt; _ptrList;
 
   template&lt;typename T&gt;
-  friend class shared_ptr;
+  friend class SharedPtr;
   template&lt;typename T&gt;
-  friend class managed_ptr;
+  friend class WeakPtr;
 };
 
 
-/// FIXME: remove the direct accessors, only copy to a shared_ptr
-/// Where you can access then, may be similar to the std::tr2::weak_ptr::lock()
-/// function. That is to avoid deletioin of a currently used object
-// FIXME: rename to WeakPtr in the spirit of OpenFDM's naming and not to
-// collide with std::tr2's shared_ptr ...
+/// FIXME: remove the direct accessors, only copy to a SharedPtr
+/// where you can access then, may be similar to the std::tr2::weak_ptr::lock()
+/// function. That is to avoid deletion of a currently used object
+/// FIXME make const correct ...
 template&lt;typename T&gt;
-class managed_ptr {
+class WeakPtr {
 public:
-  managed_ptr(void) : _ptr(0)
+  WeakPtr(void) : _ptr(0)
   {}
-  managed_ptr(T* ptr) : _ptr(ptr)
+  WeakPtr(T* ptr) : _ptr(ptr)
   { reg(); }
-  managed_ptr(const managed_ptr&amp; p) : _ptr(p._ptr)
+  WeakPtr(const WeakPtr&amp; p) : _ptr(p._ptr)
   { reg(); }
   template&lt;typename U&gt;
-  managed_ptr(const shared_ptr&lt;U&gt;&amp; p) : _ptr(p._ptr)
+  WeakPtr(const SharedPtr&lt;U&gt;&amp; p) : _ptr(p._ptr)
   { reg(); }
-  ~managed_ptr(void)
+  ~WeakPtr(void)
   { dereg(); }
   
   template&lt;typename U&gt;
-  managed_ptr&amp; operator=(const shared_ptr&lt;U&gt;&amp; p)
+  WeakPtr&amp; operator=(const SharedPtr&lt;U&gt;&amp; p)
   { assign(p._ptr); return *this; }
   template&lt;typename U&gt;
-  managed_ptr&amp; operator=(U* p)
+  WeakPtr&amp; operator=(U* p)
   { assign(p); return *this; }
-  managed_ptr&amp; operator=(const managed_ptr&amp; p)
+  WeakPtr&amp; operator=(const WeakPtr&amp; p)
   { assign(p._ptr); return *this; }
   template&lt;typename U&gt;
-  managed_ptr&amp; operator=(const managed_ptr&lt;U&gt;&amp; p)
+  WeakPtr&amp; operator=(const WeakPtr&lt;U&gt;&amp; p)
   { assign(p._ptr); return *this; }
 
   T* operator-&gt;(void)
@@ -149,9 +148,9 @@
   Object* _ptr;
 
   template&lt;typename U&gt;
-  friend class shared_ptr;
+  friend class SharedPtr;
   template&lt;typename U&gt;
-  friend class managed_ptr;
+  friend class WeakPtr;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/Port.cpp
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Port.cpp	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Port.cpp	2005-12-23 08:47:44 UTC (rev 108)
@@ -22,7 +22,7 @@
 Port::setPortInterface(PortInterface* portInterface)
 {
   mPortInterface = portInterface;
-  std::vector&lt;shared_ptr&lt;Port&gt; &gt;::iterator it;
+  std::vector&lt;SharedPtr&lt;Port&gt; &gt;::iterator it;
   for (it = mChainPorts.begin(); it != mChainPorts.end(); ++it) {
     (*it)-&gt;setPortInterface(mPortInterface);
   }
@@ -94,7 +94,7 @@
   
   // Remove ourselves from the consumer list of the sourcePort to
   // disconnect us from
-  std::vector&lt;shared_ptr&lt;Port&gt; &gt;::iterator it, beginPort, endPort;
+  std::vector&lt;SharedPtr&lt;Port&gt; &gt;::iterator it, beginPort, endPort;
   beginPort = sourcePort-&gt;mChainPorts.begin();
   endPort = sourcePort-&gt;mChainPorts.end();
   it = std::find(beginPort, endPort, this);

Modified: trunk/OpenFDM/src/OpenFDM/Port.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Port.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Port.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -90,7 +90,7 @@
   virtual bool isConnected(void) const
   { return mSourceModel &amp;&amp; mGetter; }
 private:
-  managed_ptr&lt;M&gt; mSourceModel;
+  WeakPtr&lt;M&gt; mSourceModel;
   Getter mGetter;
 };
 template&lt;typename M&gt;
@@ -105,7 +105,7 @@
   virtual bool isConnected(void) const
   { return mSourceModel &amp;&amp; mGetter; }
 private:
-  managed_ptr&lt;M&gt; mSourceModel;
+  WeakPtr&lt;M&gt; mSourceModel;
   Getter mGetter;
 };
 
@@ -121,7 +121,7 @@
   bool isConnected(void) const
   { return mRealPortInterface &amp;&amp; mRealPortInterface-&gt;isConnected(); }
 private:
-  shared_ptr&lt;RealPortInterface&gt; mRealPortInterface;
+  SharedPtr&lt;RealPortInterface&gt; mRealPortInterface;
 };
 
 class MatrixPortHandle {
@@ -136,7 +136,7 @@
   bool isConnected(void) const
   { return mMatrixPortInterface &amp;&amp; mMatrixPortInterface-&gt;isConnected(); }
 private:
-  shared_ptr&lt;MatrixPortInterface&gt; mMatrixPortInterface;
+  SharedPtr&lt;MatrixPortInterface&gt; mMatrixPortInterface;
 };
 
 // should vanish, just an adaptor for smoother migration
@@ -212,11 +212,11 @@
   /// For now the untyped input port
   /// On Model::init() it is expected to be specialized
   /// to a typed port handle
-  shared_ptr&lt;PortInterface&gt; mPortInterface;
+  SharedPtr&lt;PortInterface&gt; mPortInterface;
   /// The list of readers for this port
-  std::vector&lt;shared_ptr&lt;Port&gt; &gt; mChainPorts;
+  std::vector&lt;SharedPtr&lt;Port&gt; &gt; mChainPorts;
   /// The source of the current port connection
-  managed_ptr&lt;Port&gt; mSourcePort;
+  WeakPtr&lt;Port&gt; mSourcePort;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/PrismaticJoint.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/PrismaticJoint.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/PrismaticJoint.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -116,7 +116,7 @@
 
   /** The direct joint interaction force
    */
-  shared_ptr&lt;LineForce&gt; mLineForce;
+  SharedPtr&lt;LineForce&gt; mLineForce;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/Property.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Property.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Property.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -170,7 +170,7 @@
   virtual Object* getObject(void) { return mObject; }
 
 private:
-  managed_ptr&lt;O&gt; mObject;
+  WeakPtr&lt;O&gt; mObject;
   GetMethod mGetMethod;
   GetRefMethod mGetRefMethod;
   SetMethod mSetMethod;
@@ -230,7 +230,7 @@
   }
 
 private:
-  shared_ptr&lt;implementation_t&gt; mPropertyImpl;
+  SharedPtr&lt;implementation_t&gt; mPropertyImpl;
 };
 
 typedef TypedProperty&lt;int&gt; IntegerProperty;
@@ -355,7 +355,7 @@
   }
 
 private:
-  shared_ptr&lt;UntypedPropertyImpl&gt; mPropertyImpl;
+  SharedPtr&lt;UntypedPropertyImpl&gt; mPropertyImpl;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/ReaderWriter.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/ReaderWriter.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/ReaderWriter.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -65,7 +65,7 @@
 
   /** The Vehicle handle.
    */
-  shared_ptr&lt;Vehicle&gt; mVehicle;
+  SharedPtr&lt;Vehicle&gt; mVehicle;
 
 private:
   /** A list of errors during import.

Modified: trunk/OpenFDM/src/OpenFDM/RevoluteJoint.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/RevoluteJoint.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/RevoluteJoint.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -123,7 +123,7 @@
 
   /** The direct joint interaction force
    */
-  shared_ptr&lt;LineForce&gt; mLineForce;
+  SharedPtr&lt;LineForce&gt; mLineForce;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/RootFrame.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/RootFrame.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/RootFrame.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -46,7 +46,7 @@
   virtual void output(const TaskInfo&amp; taskInfo);
   virtual void update(const TaskInfo&amp; taskInfo);
 private:
-  shared_ptr&lt;RootFrame&gt; mRootFrame;
+  SharedPtr&lt;RootFrame&gt; mRootFrame;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/SharedPtr.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/SharedPtr.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/SharedPtr.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -10,40 +10,39 @@
 namespace OpenFDM {
 
 template&lt;typename T&gt;
-class shared_ptr;
+class SharedPtr;
 template&lt;typename T&gt;
-class managed_ptr;
+class WeakPtr;
 
-// FIXME: rename to SharedPtr in the spirit of OpenFDM's naming and not to
-// collide with std::tr2's shared_ptr ...
+/// FIXME make const correct ...
 template&lt;typename T&gt;
-class shared_ptr {
+class SharedPtr {
 public:
-  shared_ptr(void) : _ptr(0)
+  SharedPtr(void) : _ptr(0)
   {}
-  shared_ptr(T* ptr) : _ptr(ptr)
+  SharedPtr(T* ptr) : _ptr(ptr)
   { get(_ptr); }
-  shared_ptr(const shared_ptr&amp; p) : _ptr(p._ptr)
+  SharedPtr(const SharedPtr&amp; p) : _ptr(p._ptr)
   { get(_ptr); }
   template&lt;typename U&gt;
-  shared_ptr(const shared_ptr&lt;U&gt;&amp; p) : _ptr(p._ptr)
+  SharedPtr(const SharedPtr&lt;U&gt;&amp; p) : _ptr(p._ptr)
   { get(_ptr); }
   template&lt;typename U&gt;
-  shared_ptr(const managed_ptr&lt;U&gt;&amp; p) : _ptr(p._ptr)
+  SharedPtr(const WeakPtr&lt;U&gt;&amp; p) : _ptr(p._ptr)
   { get(_ptr); }
-  ~shared_ptr(void)
+  ~SharedPtr(void)
   { put(); }
   
-  shared_ptr&amp; operator=(const shared_ptr&amp; p)
+  SharedPtr&amp; operator=(const SharedPtr&amp; p)
   { assign(p._ptr); return *this; }
   template&lt;typename U&gt;
-  shared_ptr&amp; operator=(const shared_ptr&lt;U&gt;&amp; p)
+  SharedPtr&amp; operator=(const SharedPtr&lt;U&gt;&amp; p)
   { assign(p._ptr); return *this; }
   template&lt;typename U&gt;
-  shared_ptr&amp; operator=(U* p)
+  SharedPtr&amp; operator=(U* p)
   { assign(p); return *this; }
   template&lt;typename U&gt;
-  shared_ptr&amp; operator=(const managed_ptr&lt;U&gt;&amp; p)
+  SharedPtr&amp; operator=(const WeakPtr&lt;U&gt;&amp; p)
   { assign(p._ptr); return *this; }
 
   T* operator-&gt;(void)
@@ -80,9 +79,9 @@
   T* _ptr;
 
   template&lt;typename U&gt;
-  friend class shared_ptr;
+  friend class SharedPtr;
   template&lt;typename U&gt;
-  friend class managed_ptr;
+  friend class WeakPtr;
 };
 
 } // namespace OpenFDM

Modified: trunk/OpenFDM/src/OpenFDM/System.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/System.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/System.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -52,7 +52,7 @@
 private:
   /// The timestepper used to get time discrete approximate solutions to the
   /// continous system
-  shared_ptr&lt;ODESolver&gt; mTimestepper;
+  SharedPtr&lt;ODESolver&gt; mTimestepper;
 
   /// Hmm, need to think about this...
   typedef std::vector&lt;TaskInfo&gt; TaskList;

Modified: trunk/OpenFDM/src/OpenFDM/UnaryFunctionModel.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/UnaryFunctionModel.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/UnaryFunctionModel.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -47,7 +47,7 @@
   Type getType(void) const;
 
 private:
-  shared_ptr&lt;UnaryFunctionModelImpl&gt; mImpl;
+  SharedPtr&lt;UnaryFunctionModelImpl&gt; mImpl;
   Type mType;
   real_type mFunctionValue;
 };

Modified: trunk/OpenFDM/src/OpenFDM/Variant.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Variant.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Variant.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -131,7 +131,7 @@
     { return this; }
   };
   
-  shared_ptr&lt;VariantData&gt; mData;
+  SharedPtr&lt;VariantData&gt; mData;
 };
 
 inline Variant&amp;

Modified: trunk/OpenFDM/src/OpenFDM/Vehicle.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/Vehicle.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/Vehicle.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -139,21 +139,21 @@
 
 private:
   // Environment ...
-  shared_ptr&lt;Environment&gt; mEnvironment;
+  SharedPtr&lt;Environment&gt; mEnvironment;
 
-  shared_ptr&lt;RigidBody&gt; mTopBody;
-  shared_ptr&lt;FreeJoint&gt; mFreeJoint;
-  shared_ptr&lt;RootFrame&gt; mRootFrame;
-  shared_ptr&lt;MultiBodySystem&gt; mMultiBodySystem;
+  SharedPtr&lt;RigidBody&gt; mTopBody;
+  SharedPtr&lt;FreeJoint&gt; mFreeJoint;
+  SharedPtr&lt;RootFrame&gt; mRootFrame;
+  SharedPtr&lt;MultiBodySystem&gt; mMultiBodySystem;
 
-  shared_ptr&lt;ModelGroup&gt; mModelGroup;
+  SharedPtr&lt;ModelGroup&gt; mModelGroup;
 
-  shared_ptr&lt;System&gt; mSystem;
+  SharedPtr&lt;System&gt; mSystem;
 
-  std::map&lt;std::string, shared_ptr&lt;Frame&gt; &gt; mFrameIdMap;
-  std::map&lt;std::string, shared_ptr&lt;Joint&gt; &gt; mJointIdMap;
-  std::map&lt;std::string, shared_ptr&lt;RigidBody&gt; &gt; mRigidBodyIdMap;
-  std::map&lt;std::string, shared_ptr&lt;Force&gt; &gt; mForceIdMap;
+  std::map&lt;std::string, SharedPtr&lt;Frame&gt; &gt; mFrameIdMap;
+  std::map&lt;std::string, SharedPtr&lt;Joint&gt; &gt; mJointIdMap;
+  std::map&lt;std::string, SharedPtr&lt;RigidBody&gt; &gt; mRigidBodyIdMap;
+  std::map&lt;std::string, SharedPtr&lt;Force&gt; &gt; mForceIdMap;
 
   // FIXME make a attach blub at id ...
   friend class JSBReader;

Modified: trunk/OpenFDM/src/OpenFDM/WheelContact.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/WheelContact.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/WheelContact.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -57,7 +57,7 @@
   void getGround(real_type t);
 
   GroundValues mGroundVal;
-  shared_ptr&lt;Environment&gt; mEnvironment;
+  SharedPtr&lt;Environment&gt; mEnvironment;
 
   real_type mWheelRadius;
   real_type mSpringConstant;

Modified: trunk/OpenFDM/src/OpenFDM/XML/XMLReader.h
===================================================================
--- trunk/OpenFDM/src/OpenFDM/XML/XMLReader.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/XML/XMLReader.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -22,8 +22,8 @@
 class XMLElement
   : public Object {
 public:
-  typedef shared_ptr&lt;XMLElement&gt; pointer;
-  typedef shared_ptr&lt;const XMLElement&gt; const_pointer;
+  typedef SharedPtr&lt;XMLElement&gt; pointer;
+  typedef SharedPtr&lt;const XMLElement&gt; const_pointer;
 
   XMLElement(const std::string&amp; name);
   virtual ~XMLElement(void);
@@ -66,15 +66,15 @@
 class XMLDocument
   : public Object {
 public:
-  typedef shared_ptr&lt;XMLDocument&gt; pointer;
-  typedef shared_ptr&lt;const XMLDocument&gt; const_pointer;
+  typedef SharedPtr&lt;XMLDocument&gt; pointer;
+  typedef SharedPtr&lt;const XMLDocument&gt; const_pointer;
 
   XMLElement* getElement(void);
   const XMLElement* getElement(void) const;
   void setElement(XMLElement* top);
 
 private:
-  shared_ptr&lt;XMLElement&gt; mTop;
+  SharedPtr&lt;XMLElement&gt; mTop;
 
   friend class XMLDomParser;
 };
@@ -97,7 +97,7 @@
   const std::string&amp; getErrorMessage(void) const;
 
 private:
-  shared_ptr&lt;XMLDocument&gt; mDoc;
+  SharedPtr&lt;XMLDocument&gt; mDoc;
   std::stack&lt;XMLElement::pointer&gt; mElementStack;
 
   std::string mErrorMessage;

Modified: trunk/OpenFDM/src/OpenFDM/main.cpp
===================================================================
--- trunk/OpenFDM/src/OpenFDM/main.cpp	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/OpenFDM/main.cpp	2005-12-23 08:47:44 UTC (rev 108)
@@ -305,7 +305,7 @@
       return error(&quot;Error loading Models: Empty name!&quot;);
 
     std::string type = modelElement-&gt;getAttribute(&quot;type&quot;);
-    shared_ptr&lt;Model&gt; model;
+    SharedPtr&lt;Model&gt; model;
     if (type == &quot;Bias&quot;) {
       model = new Bias(name);
     } else if (type == &quot;Const&quot;) {
@@ -598,7 +598,7 @@
   
   OpenFDMReader reader;
   reader.loadVehicle(argv[1]);
-  shared_ptr&lt;Vehicle&gt; vehicle = reader.getVehicle();
+  SharedPtr&lt;Vehicle&gt; vehicle = reader.getVehicle();
 
   if (reader.getErrorState()) {
     std::cerr &lt;&lt; &quot;Could not read vehicle:&quot; &lt;&lt; std::endl;
@@ -638,7 +638,7 @@
   }
 
 #else
-  shared_ptr&lt;Vehicle&gt; vehicle = new Vehicle();
+  SharedPtr&lt;Vehicle&gt; vehicle = new Vehicle();
 
   Geodetic geod;
   geod.longitude = -81.636*deg2rad;

Modified: trunk/OpenFDM/src/builder/Configuration.cpp
===================================================================
--- trunk/OpenFDM/src/builder/Configuration.cpp	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/builder/Configuration.cpp	2005-12-23 08:47:44 UTC (rev 108)
@@ -6,7 +6,7 @@
 
 namespace OpenFDM {
 
-// shared_ptr&lt;Configuration&gt; Configuration::mConfiguration;
+// SharedPtr&lt;Configuration&gt; Configuration::mConfiguration;
 Configuration* Configuration::mConfiguration = 0;
 
 Configuration::Configuration(void)

Modified: trunk/OpenFDM/src/builder/Configuration.h
===================================================================
--- trunk/OpenFDM/src/builder/Configuration.h	2005-12-23 08:34:14 UTC (rev 107)
+++ trunk/OpenFDM/src/builder/Configuration.h	2005-12-23 08:47:44 UTC (rev 108)
@@ -30,7 +30,7 @@
   Configuration&amp; operator= (const Configuration&amp;);
 
   // The only single instance.
-//   static shared_ptr&lt;Configuration&gt; mConfiguration;
+//   static SharedPtr&lt;Configuration&gt; mConfiguration;
   static Configuration* mConfiguration;
 };
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000091.html">[OpenFDM-svn] r107 - in trunk/OpenFDM/src: JSBSim OpenFDM
</A></li>
	<LI>Next message: <A HREF="000093.html">[OpenFDM-svn] r109 - trunk/flightgear
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#92">[ date ]</a>
              <a href="thread.html#92">[ thread ]</a>
              <a href="subject.html#92">[ subject ]</a>
              <a href="author.html#92">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openfdm-svn">More information about the OpenFDM-svn
mailing list</a><br>
</body></html>
